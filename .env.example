# Singapore Math Platform - Unified Environment Configuration
# All services read from this single file

# =============================================================================
# OPENAI (Required for KG Pipeline)
# =============================================================================
OPENAI_API_KEY=sk-your-openai-api-key-here
# OPENAI_MODEL=gpt-4o-mini
# OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# =============================================================================
# NEO4J (Local Docker - custom ports to avoid conflicts)
# =============================================================================
NEO4J_URI=bolt://localhost:17687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=singapore_math_2024

# =============================================================================
# MATHPIX (Optional - for math OCR, falls back to pypdf without it)
# =============================================================================
# MATHPIX_APP_ID=
# MATHPIX_APP_KEY=

# =============================================================================
# KG PIPELINE API
# =============================================================================
API_PORT=18000

# =============================================================================
# WEB / AMPLIFY
# =============================================================================
NEXT_PUBLIC_AWS_REGION=ap-northeast-1
# NEXT_PUBLIC_API_ENDPOINT=https://your-api-id.execute-api.region.amazonaws.com/dev

# Base URL for the web application (used for OAuth callbacks)
NEXT_PUBLIC_BASE_URL=http://localhost:3000

# API Gateway URL for Lambda functions (used by Next.js API routes)
# API_GATEWAY_URL=https://your-api-id.execute-api.region.amazonaws.com/dev

# =============================================================================
# OAUTH2 PROVIDER (Required for authentication)
# =============================================================================
# OAuth2 Client Credentials (from your OAuth Provider)
OAUTH_CLIENT_ID=your-oauth-client-id
OAUTH_CLIENT_SECRET=your-oauth-client-secret

# OAuth2 Provider Endpoints
OAUTH_AUTHORIZE_URL=https://your-provider.com/oauth/authorize
OAUTH_TOKEN_URL=https://your-provider.com/oauth/token
OAUTH_USERINFO_URL=https://your-provider.com/oauth/userinfo

# OAuth2 Callback URL (must match provider configuration)
OAUTH_REDIRECT_URI=http://localhost:3000/api/auth/callback

# OAuth2 Scopes (space-separated)
OAUTH_SCOPE=openid profile email

# Session encryption key (generate with: openssl rand -hex 32)
SESSION_SECRET=your-32-char-secret-key-here-min
